<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- <title>COVID-19 France Certificate Generator</title> -->
    <title>COVID-19 – Générateur d'attestation de déplacement</title>

    <style>
        body {
            padding: 20px;
        }

        h4, form, footer {
            margin: 30px auto;
            max-width: 400px;
        }

        footer {
            margin-top: 40px;
        }

        canvas {
            border: 1px solid #ced4da;
            border-radius: .25rem;
        }
    </style>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
</head>
<body>
    <h4>COVID-19 – Générateur d'attestation de déplacement</h4>

    <form id="form-profile" style="display: none">
        <div class="alert alert-primary" role="alert">
            <small>
                Ce générateur est là pour faciliter l'usage des attestations. Créez un profil, vous
                n'aurez alors plus qu'à choisir le motif pour chacune de vos sorties.
                <br>
                <a href="https://www.interieur.gouv.fr/Actualites/L-actu-du-Ministere/Attestation-de-deplacement-derogatoire-et-justificatif-de-deplacement-professionnel">Plus d'informations sur le site officiel du gouvernement.</a>
            </small>
        </div>

        <h5>Remplissez votre profil</h5>

        <div class="form-group">
            <label for="field-name">Nom et prénom</label>
            <input type="text" class="form-control" id="field-name" autofocus>
        </div>

        <div class="form-group">
            <label for="field-birthday">Date de naissance</label>
            <input type="text" class="form-control" id="field-birthday">
        </div>

        <div class="form-group">
            <label for="field-address">Adresse</label>
            <input type="text" class="form-control" id="field-address">
        </div>

        <div class="form-group">
            <label for="field-town">Ville</label>
            <input type="text" class="form-control" id="field-town">
        </div>

        <div class="form-group">
            <label for="field-zipcode">Code Postal</label>
            <input type="text" class="form-control" id="field-zipcode">
        </div>

        <div class="form-group">
            <label>Signature</label>
            <small id="help-signature" class="form-text text-muted">Dessinez votre signature dans la case ci-dessous.</small>
            <canvas id="field-signature" width=360 height=240 aria-describedby="help-signature"></canvas>
            <button id="reset-signature" type="button" class="btn btn-link btn-sm float-right">Effacer la signature</button>
            <br><br>
        </div>

        <button type="submit" class="btn btn-primary">Enregistrer mon profil</button>
    </form>

    <form id="form-generate" style="display: none">
        <h5>Choisissez un motif de sortie</h5>

        <div class="form-check">
            <input class="form-check-input" type="radio" name="field-reason" id="radio-work" value="work">
            <label class="form-check-label" for="radio-work">Travail</label>
        </div>

        <div class="form-check">
            <input class="form-check-input" type="radio" name="field-reason" id="radio-groceries" value="groceries">
            <label class="form-check-label" for="radio-groceries">Courses</label>
        </div>

        <div class="form-check">
            <input class="form-check-input" type="radio" name="field-reason" id="radio-health" value="health">
            <label class="form-check-label" for="radio-health">Santé</label>
        </div>

        <div class="form-check">
            <input class="form-check-input" type="radio" name="field-reason" id="radio-family" value="family">
            <label class="form-check-label" for="radio-family">Famille</label>
        </div>

        <div class="form-check">
            <input class="form-check-input" type="radio" name="field-reason" id="radio-sport" value="sport">
            <label class="form-check-label" for="radio-sport">Sport &amp; animaux</label>
        </div>

        <br><br>
        <button type="submit" class="btn btn-primary">Générer mon attestation</button>

        <br><br>
        <button type="button" class="btn btn-link btn-sm" onclick="localStorage.clear(); location.reload()">
            Effacer mon profil
        </button>
    </form>

    <footer class="footer text-center">
        <small>
            <a href="https://github.com/nesk/covid-19-certificate">Github</a>
            -
            <a href="https://nesk.dev">nesk.dev</a>
            -
            <a href="https://twitter.com/johannpardanaud">@johannpardanaud</a>
        </small>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.4.1/dist/pdf-lib.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
    <script src="certificate.js"></script>
</body>
</html>
